{% extends 'base.html' %}
{% load static %}

{% block title %}Report Found Pet | PetRescue{% endblock %}

{% block content %}
<div class="container mt-4">
  <div class="row">
    <div class="col-12">
      <h2 class="mb-4">Report a Found Pet</h2>
    </div>
  </div>
  
  {% if messages %}
    {% for message in messages %}
      <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    {% endfor %}
  {% endif %}

  <div class="row">
    <div class="col-lg-8 mx-auto">
      <div class="card shadow-sm border-0 rounded-3">
        <div class="card-header bg-white border-0">
          <h5 class="mb-0">Pet Information</h5>
          <p class="mb-0 text-muted">Please provide as much information as possible to help us reunite this pet with their owner.</p>
        </div>
        <div class="card-body">
          <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="{{ form.pet_type.id_for_label }}" class="form-label">Pet Type *</label>
                {{ form.pet_type }}
                {% if form.pet_type.errors %}
                  {% for error in form.pet_type.errors %}
                    <div class="text-danger small mt-1">{{ error }}</div>
                  {% endfor %}
                {% endif %}
              </div>
              
              <div class="col-md-6 mb-3">
                <label for="{{ form.breed.id_for_label }}" class="form-label">Breed *</label>
                {{ form.breed }}
                {% if form.breed.errors %}
                  {% for error in form.breed.errors %}
                    <div class="text-danger small mt-1">{{ error }}</div>
                  {% endfor %}
                {% endif %}
              </div>
            </div>
            
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="{{ form.color.id_for_label }}" class="form-label">Primary Color *</label>
                {{ form.color }}
                {% if form.color.errors %}
                  {% for error in form.color.errors %}
                    <div class="text-danger small mt-1">{{ error }}</div>
                  {% endfor %}
                {% endif %}
              </div>
              
              <div class="col-md-6 mb-3">
                <label for="{{ form.location.id_for_label }}" class="form-label">Location Found *</label>
                {{ form.location }}
                {% if form.location.errors %}
                  {% for error in form.location.errors %}
                    <div class="text-danger small mt-1">{{ error }}</div>
                  {% endfor %}
                {% endif %}
                <div class="form-text">Please provide a specific location where the pet was found.</div>
              </div>
            </div>
            
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="{{ form.date_found.id_for_label }}" class="form-label">Date Found *</label>
                {{ form.date_found }}
                {% if form.date_found.errors %}
                  {% for error in form.date_found.errors %}
                    <div class="text-danger small mt-1">{{ error }}</div>
                  {% endfor %}
                {% endif %}
                <div class="form-text">When was the pet found? Cannot be in the future.</div>
              </div>
              
              <div class="col-md-6 mb-3">
                <!-- Empty column for spacing -->
              </div>
            </div>
            
            <div class="row">
              <div class="col-12 mb-3">
                <label for="{{ form.description.id_for_label }}" class="form-label">Description</label>
                {{ form.description }}
                {% if form.description.errors %}
                  {% for error in form.description.errors %}
                    <div class="text-danger small mt-1">{{ error }}</div>
                  {% endfor %}
                {% endif %}
                <div class="form-text">Include any distinguishing features, behavior, or other helpful details.</div>
              </div>
            </div>
            
            <div class="row">
              <div class="col-12 mb-3">
                <label for="{{ form.image.id_for_label }}" class="form-label">Photo of Pet</label>
                {{ form.image }}
                {% if form.image.errors %}
                  {% for error in form.image.errors %}
                    <div class="text-danger small mt-1">{{ error }}</div>
                  {% endfor %}
                {% endif %}
                <div class="form-text">Upload a clear photo of the pet if available (optional but helpful). Only JPG and PNG files under 5MB are allowed.</div>
              </div>
            </div>
            
            <div class="row">
              <div class="col-12">
                <button type="submit" class="btn btn-success w-100">Report Found Pet</button>
              </div>
            </div>
          </form>
        </div>
      </div>
      
      <div class="card border-0 rounded-3 bg-light mt-4">
        <div class="card-body">
          <h5 class="card-title">Help Us Reunite Pets with Families</h5>
          <p class="card-text">By reporting found pets, you're helping us reunite lost animals with their families. Our team will review your submission and take appropriate action to find the pet's owner.</p>
          <p class="card-text mb-0">If you have additional information or updates, please contact us at <a href="mailto:info@petrescue.com">info@petrescue.com</a>.</p>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}