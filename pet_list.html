{% extends 'base.html' %}

{% block title %}Pets{% endblock %}

{% block content %}
<h2>Pets</h2>
<form method="get" class="filters">
  <label>Type
    <select name="type">
      <option value="">Any</option>
      <option value="dog">Dog</option>
      <option value="cat">Cat</option>
      <option value="bird">Bird</option>
      <option value="other">Other</option>
    </select>
  </label>
  <label>Status
    <select name="status">
      <option value="">Any</option>
      <option value="lost">Lost</option>
      <option value="found">Found</option>
      <option value="adopted">Adopted</option>
    </select>
  </label>
  <button type="submit">Search</button>
  {% if request.user.is_authenticated %}
    <a class="button" href="{% url 'pets:report' %}">Report Pet</a>
  {% endif %}
 </form>

<div class="pet-grid">
  {% for pet in pets %}
    <article class="pet-card">
      {% if pet.image %}
        <img src="{{ pet.image.url }}" alt="{{ pet.type }}">
      {% endif %}
      <h3>{{ pet.get_type_display }}{% if pet.breed %} - {{ pet.breed }}{% endif %}</h3>
      <p>Status: {{ pet.get_status_display }}</p>
      <p>Location: {{ pet.location }}</p>
      <p>{{ pet.description|truncatewords:20 }}</p>
    </article>
  {% empty %}
    <p>No pets found.</p>
  {% endfor %}
 </div>
{% endblock %}

